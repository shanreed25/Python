# `execute()`
In SQLAlchemy, the execute() function is a core method used to send SQL statements to the database and retrieve results. It is available on Connection and Engine objects within the SQLAlchemy Core, and also on Session objects when working with the ORM.
Key aspects of execute():
SQL Statement Execution:
execute() takes a SQL statement as an argument. This can be:
A raw SQL string, typically wrapped in sqlalchemy.text() for safety and proper parameter handling.
A SQLAlchemy expression language construct, such as those generated by select(), insert(), update(), or delete().
Parameter Handling:
When using raw SQL with placeholders (e.g., :param_name), execute() can accept a dictionary of parameters to bind to these placeholders, preventing SQL injection vulnerabilities.
Result Set Retrieval:
For SELECT statements, execute() returns a Result object. This object allows you to fetch rows using methods like:
fetchone(): Retrieves the next single row.
fetchall(): Retrieves all remaining rows as a list.
Iteration: The Result object is iterable, allowing you to loop through rows directly.
Context Management:
When using execute() on a Connection obtained through engine.connect(), it is best practice to use a with statement to ensure the connection is properly closed.
ORM vs. Core:
While session.execute() in the ORM can execute Core-level statements or even raw SQL, connection.execute() in the Core is more direct for low-level SQL operations or when the ORM's abstraction is not required or is suboptimal for a specific task.